"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[736],{4736:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(885),s=(n(486),n(6411)),r=n(156),c=n(184),i=function(){var e=(0,r.wY)().data,t=(0,r.Tn)(),n=(0,a.Z)(t,2),i=n[0],o=n[1].isLoading;return(0,c.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var n=t.currentTarget,a={name:n.elements.name.value,number:n.elements.number.value};e.find((function(e){return e.name===a.name}))?alert("".concat(a.name," is already in contacts")):i(a),n.reset()},children:[(0,c.jsx)("input",{placeholder:"name",className:"input",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,c.jsx)("input",{placeholder:"phone number",className:"input",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),o&&(0,c.jsx)(s.Z,{}),(0,c.jsx)("button",{className:"button",type:"submit",children:"Add contact"})]})},o=n(5048),u=n(1128),l=function(){var e=(0,o.I0)();return(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text",children:"Find contacts by name"}),(0,c.jsx)("input",{className:"input",type:"text",onChange:function(t){var n=t.target.value;e((0,u.M6)(n))}})]})},d=n(2791),m=n(4164),p=document.querySelector("#modal-root"),h=function(e){var t=e.toggleModal,n=e.children;(0,d.useEffect)((function(){window.addEventListener("keydown",a)}),[]),(0,d.useEffect)((function(){window.removeEventListener("keydown",a)}));var a=function(e){"Escape"===e.code&&t()};return(0,m.createPortal)((0,c.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&t()},className:"overlay",children:(0,c.jsx)("div",{className:"modal",children:n})}),p)},f=function(e){var t=e.contact,n=e.onEdit;return(0,c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var a=e.currentTarget,s=a.elements.name.value,r=a.elements.number.value,c={id:t.id,name:s,number:r};n(c),a.reset()},children:[(0,c.jsx)("input",{defaultValue:t.name,className:"input",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,c.jsx)("input",{defaultValue:t.number,className:"input",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,c.jsx)("button",{className:"button",type:"submit",children:"Edit"})]})},b=function(){var e=(0,r.wY)(),t=e.data,n=e.isLoading,i=(0,o.v9)((function(e){return e.filter})),u=(0,r.Nt)(),l=(0,a.Z)(u,2),m=l[0],p=l[1].isLoading,b=(0,r.i)(),x=(0,a.Z)(b,1)[0],j=(0,d.useState)(!1),v=(0,a.Z)(j,2),N=v[0],y=v[1],g=(0,d.useState)({}),w=(0,a.Z)(g,2),C=w[0],k=w[1],Z=function(e){y(!N),k(e)},A=function(){try{return t.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())||e.number.includes(i)}))}catch(e){return!1}};return(0,c.jsxs)(c.Fragment,{children:[N&&(0,c.jsxs)(h,{toggleModal:Z,children:[(0,c.jsx)("button",{type:"button",onClick:Z,className:"close-btn",children:"Close"}),(0,c.jsx)(f,{contact:C,onEdit:function(e){x(e),Z()}})]}),n&&(0,c.jsx)(s.Z,{}),p&&(0,c.jsx)(s.Z,{}),A()&&!p&&(0,c.jsx)("ul",{children:A().map((function(e){return(0,c.jsxs)("li",{className:"contacts-item",children:[e.name,":"," ",(0,c.jsx)("span",{className:"contacts-number",children:e.number}),(0,c.jsx)("button",{className:"button edit-btn",type:"button",onClick:function(){return Z(e)},children:"Edit"}),(0,c.jsx)("button",{className:"button",type:"button",onClick:function(){m(e.id)},children:"Delete"})]},e.id)}))})]})},x=function(){return(0,c.jsxs)("div",{className:"phonebook",children:[(0,c.jsx)("h1",{className:"title",children:"Phonebook"}),(0,c.jsx)(i,{}),(0,c.jsx)("h2",{className:"title",children:"Contacts"}),(0,c.jsx)(l,{}),(0,c.jsx)(b,{className:"contacts-list"})]})}},486:function(){}}]);
//# sourceMappingURL=736.9f8fc8d6.chunk.js.map